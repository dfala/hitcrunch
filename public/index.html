<!DOCTYPE html>

<html ng-app="myApp">
<head>
	<meta name="msvalidate.01" content="205E1F09CBDC3B5BE3A0D0F54B786A0F" />

	<link rel="shortcut icon" href="favicon.ico" />

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

	<!-- Angular-->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>

	<!-- Angular Cookies-->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular-cookies.min.js"></script>

	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="mobile.css">



	<title>
		The best content on the web curated by you | HitCrunch
	</title>
</head>


<body ng-controller="ctrl">

	<header>
		<h1 class="header-site-title" style="margin-top: 0;">
			<a href="/">
				<img id="header-logo" src="images/logo.png" alt="hitcrunch logo" class="logo"/>
			</a>
		</h1>

		<div style="padding-right: 18rem; margin-top: -5.5rem; float: right;">
			<form>
				<div class="row">
					<div class="col-md-9" style="padding-right: 0;">
						<input type="text" class="ss-q-short ginput" ng-model="newQuestion" style="background-color: rgb(243, 243, 243);"/>
					</div>
					<div class="col-md-3">
						<button class="btn btn-header" ng-click="postQuestion(newQuestion)">
							Post Question
						</button>
					</div>
				</div>
			</form>
		</div>
	</header>


	<!-- IMAGE UPLOAD -->
	<div class="container">
		<form>
			<input type="file" ng-model="image" />
			<input type="submit" class="btn btn-default" ng-click="giveImage(image)"/>
		</form>
	</div>
	<!-- END IMAGE UPLOAD -->

	<div class="container" ng-repeat="question in questions | orderBy: 'timestamp' :false">
		<div class="row">
			<div class="col-md-12">
				<a class="title-color">
					<h2>{{question.question}}</h2>
				</a>
				<a data-toggle="modal" data-target="#{{question._id}}" class="addNewArticle" id="growthHacking">
					<h4>
						 add new article
					</h4>
				</a>
			</div>

			<!-- ARTICLES FRONT END -->
			<div ng-repeat="article in question.articles | orderBy: 'votes' :true | limitTo:5">	
				<div class="row indent-content">
					<div class="col-xs-12 toolitem">
						<a>
							<div class="col-xs-1 voting" ng-click="upVote(article)">
								<span class="glyphicon glyphicon-chevron-up glyphicon-centered">
								</span>
								<p>{{article.votes}}</p>
							</div>
						</a>


					
						<a target="_blank" ng-href="{{article.link}}">
							<div class="col-xs-11">
								<h3>{{article.title}}</h3>
								<p>{{article.subtext}}</p>
							</div>
						</a>
					</div>
				</div>
			</div>
			<!-- END OF ARTICLES FRONT END -->



			<!-- Modal -->
			<div class="modal fade" id="{{question._id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="text-align: center;">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <br>
			        	<div class="alert alert-danger fade in" role="alert" style="display:none;">
					      <p>Please fill out all of the empty fields!</p>
					    </div>
			      </div>
			      <div class="modal-body">
			      	<form class="form-horizontal" role="form">
					  
					  <div class="form-group">
					    <div class="col-md-12">
					      <input type="hidden" class="form-control submitParentName" id="newContentParentName" disabled ng-model="question._id">
					    </div>
					  </div>



					  <div class="form-group">
					    <div class="col-md-12">
					      <input type="text" class="form-control" placeholder="Title of the article" ng-model="title">
					    </div>
					  </div>
					  <div class="form-group">
					    <div class="col-md-12">
					      <input type="text" class="form-control" placeholder="Short description" ng-model="subtext">
					    </div>
					  </div>
					  <div class="form-group">
					    <div class="col-md-12">
					      <input type="text" class="form-control" placeholder="article URL" ng-model="link">
					    </div>
					  </div>
					</form>
			      </div>
			      <div class="modal-footer">
					        <button type="button" class="btn btn-primary" id="giveNewContent" data-dismiss="modal" ng-click="addArticle(title, subtext, link, question._id)">
					        	Submit Content
				        </button>
			      </div>
			    </div>
			  </div>
			</div>
			<!-- End Modal -->

		</div>

	</div>





	<footer>
		<div id="footer-inner">
			<div class="container">
				<div class="col-md-6 col-md-offset-3 text-center">


					<!--<div class="inbetween-sm" style="margin-top: 5rem;">
						<button class="btn btn-footer">
						  Submit New Content
						</button>
					</div> -->


				</div>
			</div>
		</div>
	</footer>


	<!-- MY JS FILE -->
	<script type="text/javascript" src="magic.js"></script>

</body>

</html>